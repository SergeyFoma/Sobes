# Range — встроенная функция в Python, 
# которая генерирует последовательность чисел в заданном диапазоне.(start, stop, step)
# Эта функция создаёт диапазоны данных, задаёт шаг между элементами и не требует дополнительной памяти — это ускоряет выполнение кода.
# range() — встроенная функция Python, которая создаёт последовательность целых чисел в заданном диапазоне. 
# Она не хранит числа в памяти, а создаёт объект диапазона — специальный тип данных, 
# содержащий только правила построения последовательности: начало, конец и шаг между элементами.
#При обращении к объекту Python вычисляет значения на лету — это называется ленивым вычислением. 
#Благодаря этому range() работает быстро и экономит память, даже если диапазон содержит миллионы элементов.

# https://skillbox.ru/media/code/funkciya-range-v-python/

for i in range(10): # от 0 до 9
    print(i)

for i in range(1, 10): # from zero to 9
    print(i)

for i in range(1, 11, 2): # from 1 to 9 step 2
    print(i)

for i in range(10, 0, -1):
    print(i)

print(list(range(23)))
print(list(range(4, 23)))
print(list(range(2, 23, 3)))
print(list(range(13, -5, -1)))


# С помощью range() можно обратиться к элементам списка по индексу:
lis = ['qwe', 'asd', 'zxc']
for i in range(len(lis)):
    print(f'{i} - {lis[i]}')

    # Вложенные циклы — это циклы внутри других циклов. Они позволяют выполнять 
    # повторяющиеся действия на нескольких уровнях. Например, внешний цикл может перебирать строки, 
    # а внутренний — столбцы в таблице. Это полезно для работы с двумерными данными, 
    # создания координатных сеток, перебора всех возможных комбинаций элементов из разных списков.
    # Внешний цикл проходит по строкам, внутренний — по столбцам. 
    # Так можно работать с двумерными массивами или рисовать фигуры в консоли.

for i in range(10):
    for j in range(5):
        print(f'{i}={j}')

# напишем короткую версию таблицы умножения до 5:
for i in range(1, 5):
    for j in range(1, 6):
        print(i*j, end='\t')
    print()

# С помощью вложенных циклов можно рисовать геометрические фигуры. 
# Например, построим прямоугольник из звёздочек:
for i in range(3):
    for j in range(5):
        print('*', end=' ')
    print()

#Как применять range() с функцией len()
grades = [23, 56, 98, 67, 83,100] # список баллов студентов (list of student scores.)
for i in range(len(grades)):
    print(f'Student №{i+1} - ball = {grades[i]}')

# Таким же способом можно изменять элементы списка в цикле:
number = [13, 14, 55, 32]
for i in range(len(number)):
    for j in number:
        print(f'{i+1}={j*2}')
    print()

for i in range(len(number)):
    print((number[i])*3, end=', ')

# В цикле for можно работать с двумя списками одновременно:
names = ['Anna', 'Kris', 'Djoanna']
age = [45, 32, 88]
for i in range(len(names)):
    for j in age:
        print(names[i],' = ', j)

# Как проверить принадлежность к диапазону
a=range(2, 13)
print(1 in a)
print(6 in a)


val = [2,3,5,1,6,9,8,7]
allow=range(1, 5)
for v in val:
    for v in allow:
        print(v)
    
#Как объединить диапазоны значений
a=range(1, 100,10)
b=range(30, -10, -1)
combined = list(a)+list(b)
print('combined==', combined)

# Более эффективный способ — использовать модуль itertools. Функция itertools.chain() 
# объединяет несколько последовательностей в один итерируемый объект, который можно обойти в цикле. 
# Преимущество этого подхода в том, что он не создаёт промежуточные списки в памяти, 
# элементы берутся по одному из каждого диапазона по мере необходимости, 
# что значительно экономит ресурсы при работе с большими последовательностями:
from itertools import chain

r1 = range(0, 5)
r2 = range(3, 8)
for i in chain(r1, r2):
    print(i, end=' ')


# Как использовать range() в генераторах списков
list_gen = [i for i in range(0, 20, 2)]
print('\n', 'list_gen = ', list_gen)

list_gen2 = [i for i in range(2, 30, 3)if i%2 != 0]
print(list_gen2)

# Как работать с float-значениями
#Функция range() в Python работает только с целыми числами.
# Для работы с дробными значениями используйте библиотеку NumPy или цикл while. 
# NumPy подходит для работы с массивами и сложных математических вычислений. 
# Для простых задач, когда не хочется добавлять зависимости в проект, 
# используйте while — он работает с дробными числами из коробки.

import numpy as np

for i in np.arange(0, 1, 0.2):
    print('Numpy = ', i)
    print('Numpy== ',round(i, 1))  # Округляем до одного знака после запятой

# Попробуем цикл while и напишем код для вывода чисел от 0 до 0,8 с шагом 0,2:
i = 0.0
while i < 1.0:
    print(round(i, 1))
    i += 0.2